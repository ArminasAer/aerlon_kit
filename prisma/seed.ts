import { Post, PrismaClient } from '@prisma/client';

const prisma = new PrismaClient();

async function Seed() {
    const posts: Omit<Post, "id" | "createdAt" | "updatedAt">[] = [
        {
            slug: 'javascript-huh',
            date: new Date("2020-04-13T08:00:00.000+00:00"),
            title: 'What is going on with Javascript?',
            series: 'coding',
            categories: [
                'js',
                'ts',
                'typescript',
                'prisma',
                'cockroachdb',
            ],
            markdown:
                `What the heck is going on with JavaScript right now?

                What is going on with coding right now?
                
                Do I even like coding anymore?
                
                Three questions I ask myself a lot lately haha... I haven't even touched a piece of code in probably three weeks now, and I am trying to see if I feel better or worse by that. I think I have lost motivation in coding this last month. A lot of my coding passion came from working with different http frameworks and libraries but I have forced myself to settle down and actually finish my blog site. I also am pretty busy as of late in life; I have a lot going on and coding has to take a back seat right now. So maybe my opinions are a little jaded right now when it comes to coding, but coding kind of sucks.
                
                I have spend a lot of time diving into a lot of different coding areas and ideas, which I believe has also caught up to me and burned me out a little. Coding is just frustrating a lot of times, and I come out of a coding session usually with a bad mood. That is something I have had to watch closely these past couple years. My mind will start working on a hard project or idea and my mind wont rest until I have a solution to the issue. My wife has asked me many times if I was mad about something, just to realize I was projecting some coding frustrations out in my daily emotions. I have been like this since I was a little kid; its like my ADHD brain is searching to complete the puzzle even if I dont want to work on it. I have woken up in the middle of the night before with these problems at the forefront of my mind. I don't really have an answer for this; and maybe others struggle with this as well. In all of that, having a couple weeks off to reset my coding brain has been nice. I don't code professionally or anything, but it can be considered a passion of mine. I have even thought about trying to go professional with software development many times, but as of right now it's just not in the game plan.
                
                So with all that said, coding is hard and mostly sucks... but we torture ourselves for the moments when its great and things come together. Solving these puzzles are difficult but very rewarding. I think maybe if I went pro I would lose the love for it.
                
                Switching gears, the current JavaScript world is in a very interesting place. No one really saw Bun jumping in there as hard as it did. Deno was an interesting suprise but honestly I think it has lost its hype. Bun is the new kid in town... but not sure if it will grab market share from Node enough to cause waves. Bun, unlike Deno, is directly trying to make Node obsolete with a drop in replacement. It's like spicy server JavaScript drama haha!
                
                WIP
                `,
            postSnippet: "Coding burnout is real; but coding in a healthy way can be really good for our minds.",
            published: true,
            featured: true,
        },
    ];

    for (const post of posts) {
        await prisma.post.upsert({
            where: { slug: post.slug },
            update: post,
            create: post,
        });
    }

    console.log(`Database has been seeded. ðŸŒ±`);
}

Seed()
    .then(async () => {
        await prisma.$disconnect();
    })
    .catch(async (e) => {
        console.error(e);
        await prisma.$disconnect();
        process.exit(1);
    });